{"version":3,"sources":["../jquery.custom-select.js"],"names":["CustomSelect","$","options","each","$select","optionsArray","defaults","autocomplete","block","hideCallback","includeValue","keyboard","modifier","placeholder","showCallback","transition","extend","hide","after","$selectOptions","find","customSelect","customSelectActiveModifier","dropdownOptionHtml","dropdownOptions","$customSelect","next","$customSelectValue","$dropdown","addClass","createOptionsArray","html","$input","attr","append","i","el","cssClass","eq","$currentOption","text","trim","data","setDropdownToggle","$dropdownOptions","$optionWrap","wrapAll","on","event","choice","removeClass","prop","splice","option","$option","hideDropdown","$this","originalEvent","trigger","index","scrollTop","query","val","length","setTimeout","match","toLowerCase","indexOf","toggle","show","push","slideUp","call","window","off","windowEventHandler","blur","keyboardHandler","one","windowEvent","document","documentElement","slideDown","$target","target","parents","is","visibleOptions","keyCode","preventDefault","focus","fn"],"mappings":"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","file":"jquery.custom-select.js","sourcesContent":["import $ from 'jquery';\r\n\r\n/*!\r\n * Custom Select jQuery Plugin\r\n */\r\n\r\nconst CustomSelect = (($) => {\r\n\r\n  /**\r\n   * Custom Select\r\n   *\r\n   * Creates custom dropdown instead of default `<select>`\r\n   *\r\n   * @param {Object} [options] - Settings object\r\n   * @param {boolean} [options.autocomplete=false] - Adds input to filter options\r\n   * @param {string} [options.block=custom-select] - Class name (BEM block name)\r\n   * @param {Function} [options.hideCallback=false] - Fires after dropdown closes\r\n   * @param {boolean} [options.includeValue=false] - Shows chosen value option in\r\n   * dropdown, if enabled also cancels dropdown options rerender\r\n   * @param {boolean} [options.keyboard=true] - Enables keyboard control\r\n   * @param {string} [options.modifier=false] - Additional class, e.g. BEM modifier\r\n   * @param {string} [options.placeholder=false] - Autocomplete input placeholder\r\n   * @param {Function} [options.showCallback=false] - Fires after dropdown opens\r\n   * @param {number || string} [options.transition=100] - jQuery slideUp/Down speed\r\n   */\r\n  function CustomSelect(options) {\r\n    $(this).each(function () {\r\n      let $select = $(this);\r\n      let optionsArray = [];\r\n\r\n      const defaults = {\r\n        autocomplete: false,\r\n        block: 'custom-select',\r\n        hideCallback: false,\r\n        includeValue: false,\r\n        keyboard: true,\r\n        modifier: false,\r\n        placeholder: false,\r\n        showCallback: false,\r\n        transition: 100\r\n      };\r\n\r\n      if (typeof options === 'object') {\r\n        $.extend(defaults, options);\r\n      }\r\n\r\n      $select\r\n        .hide()\r\n        .after(\r\n          `<div class=\"${defaults.block}\">\r\n             <button class=\"${defaults.block}__option ${defaults.block}__option--value\"></button>\r\n             <div class=\"${defaults.block}__dropdown\"></div>\r\n           </div>`\r\n        );\r\n\r\n      let $selectOptions = $select.find('option');\r\n\r\n      const customSelect = `.${defaults.block}`;\r\n      const customSelectActiveModifier = `${defaults.block}--active`;\r\n      const dropdownOptionHtml = `<button class=\"${defaults.block}__option\"></button>`;\r\n      const dropdownOptions = `${customSelect}__option`;\r\n\r\n      let $customSelect = $select.next(customSelect);\r\n      let $customSelectValue = $customSelect.find(`${customSelect}__option--value`);\r\n      let $dropdown = $customSelect.find(`${customSelect}__dropdown`);\r\n\r\n      if (defaults.modifier) {\r\n        $customSelect.addClass(defaults.modifier);\r\n      }\r\n\r\n      createOptionsArray();\r\n      $dropdown.html('').hide();\r\n      let $input = null;\r\n\r\n      // Add autocomplete input\r\n      if (defaults.autocomplete) {\r\n        $input = $(`<input class=\"${defaults.block}__input\">`);\r\n        if (defaults.placeholder) {\r\n          $input.attr('placeholder', defaults.placeholder);\r\n        }\r\n        $dropdown.append($input);\r\n      }\r\n\r\n      // Create custom select options\r\n      $.each(optionsArray, (i, el) => {\r\n        let cssClass = $selectOptions.eq(i).attr('class');\r\n        let $currentOption = $(dropdownOptionHtml).text(el).addClass(cssClass);\r\n\r\n        if (el === $select.find(':selected').text().trim()) {\r\n          $customSelectValue.text(el).addClass(cssClass).data('class', cssClass);\r\n          if (defaults.includeValue) {\r\n            $dropdown.append($currentOption);\r\n          }\r\n        } else {\r\n          $dropdown.append($currentOption);\r\n        }\r\n      });\r\n\r\n      setDropdownToggle();\r\n\r\n      let $dropdownOptions = $dropdown.find(dropdownOptions);\r\n      let $optionWrap = null;\r\n\r\n      if (defaults.autocomplete) {\r\n        $dropdownOptions.wrapAll(`<div class=\"${defaults.block}__option-wrap\"></div>`);\r\n        $optionWrap = $dropdown.find(`${customSelect}__option-wrap`);\r\n      }\r\n\r\n      $dropdownOptions.on('click', function (event) {\r\n        let choice = $(this).text().trim();\r\n        $customSelectValue.text(choice).removeClass($customSelectValue.data('class'));\r\n        $selectOptions.prop('selected', false);\r\n\r\n        $.each(optionsArray, (i, el) => {\r\n          if (!defaults.includeValue && el === choice) {\r\n            optionsArray.splice(i, 1);\r\n          }\r\n          $.each($selectOptions, function (i, option) {\r\n            let $option = $(option);\r\n            if ($option.text().trim() === choice) {\r\n              let cssClass = $option.attr('class');\r\n              $option.prop('selected', true);\r\n              $customSelectValue.addClass(cssClass).data('class', cssClass);\r\n            }\r\n          });\r\n        });\r\n\r\n        hideDropdown();\r\n\r\n        // Recreate custom select dropdown options\r\n        if (!defaults.includeValue) {\r\n          $.each($dropdownOptions, (i, option) => {\r\n            let $option = $(option);\r\n            $option.text(optionsArray[i]);\r\n\r\n            // Reset option class\r\n            $option.attr('class', `${defaults.block}__option`);\r\n\r\n            $.each($selectOptions, function () {\r\n              let $this = $(this);\r\n              if ($this.text().trim() === optionsArray[i]) {\r\n                $option.addClass($this.attr('class'));\r\n              }\r\n            });\r\n          });\r\n        }\r\n\r\n        createOptionsArray();\r\n        if (typeof event.originalEvent !== 'undefined') {\r\n          $select.trigger('change');\r\n        }\r\n      });\r\n\r\n      // Autocomplete\r\n      if (defaults.autocomplete) {\r\n        $input.on('focus', function () {\r\n          defaults.index = -1;\r\n          $optionWrap.scrollTop(0);\r\n        });\r\n\r\n        $input.on('keyup', function () {\r\n          let query = $input.val().trim();\r\n          if (query.length) {\r\n            setTimeout(() => {\r\n              if (query === $input.val().trim()) {\r\n                $.each($dropdownOptions, (i, option) => {\r\n                  let $option = $(option);\r\n                  let match = $option.text().trim().toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n                  $option.toggle(match);\r\n                });\r\n              }\r\n            }, 300);\r\n          } else {\r\n            $dropdownOptions.show();\r\n          }\r\n        });\r\n      }\r\n\r\n      function createOptionsArray() {\r\n        optionsArray = [];\r\n\r\n        $.each($selectOptions, (i, option) => {\r\n          let el = $(option).text().trim();\r\n          optionsArray.push(el);\r\n        });\r\n      }\r\n\r\n      function hideDropdown() {\r\n        $customSelect.removeClass(customSelectActiveModifier);\r\n        $dropdown.slideUp(defaults.transition, () => {\r\n          // Close callback\r\n          if (typeof defaults.hideCallback === 'function') {\r\n            defaults.hideCallback.call($customSelect[0]);\r\n          }\r\n        });\r\n\r\n        $(window).off('click touchstart', windowEventHandler);\r\n        $customSelectValue.off('click');\r\n        setDropdownToggle();\r\n\r\n        if (defaults.keyboard) {\r\n          $dropdownOptions.blur();\r\n          $(window).off('keydown', keyboardHandler);\r\n        }\r\n\r\n        // Clear autocomplete\r\n        if (defaults.autocomplete) {\r\n          $dropdownOptions.show();\r\n          $input.val('');\r\n          $optionWrap.scrollTop(0);\r\n        }\r\n      }\r\n\r\n      function setDropdownToggle() {\r\n        $customSelectValue.one('click', () => {\r\n          const windowEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\r\n\r\n          $customSelect.addClass(customSelectActiveModifier);\r\n          $dropdown.slideDown(defaults.transition, () => {\r\n            // Open callback\r\n            if (typeof defaults.showCallback === 'function') {\r\n              defaults.showCallback.call($customSelect[0]);\r\n            }\r\n          });\r\n\r\n          $(window).on(windowEvent, windowEventHandler);\r\n          $customSelectValue.one('click', () => {\r\n            hideDropdown();\r\n          });\r\n\r\n          if (defaults.keyboard) {\r\n            defaults.index = -1;\r\n            $(window).on('keydown', keyboardHandler);\r\n          }\r\n        });\r\n      }\r\n\r\n      function windowEventHandler(event) {\r\n        let $target = $(event.target);\r\n        if (!$target.parents().is($customSelect) && !$target.is($customSelect)) {\r\n          hideDropdown();\r\n        }\r\n      }\r\n\r\n      function keyboardHandler(event) {\r\n        let visibleOptions = dropdownOptions + ':visible';\r\n\r\n        switch (event.keyCode) {\r\n          // Down\r\n          case 40:\r\n            event.preventDefault();\r\n            if ($dropdown.find(visibleOptions).eq(defaults.index + 1).length !== 0) {\r\n              defaults.index += 1;\r\n            } else {\r\n              defaults.index = 0;\r\n            }\r\n            $dropdown.find(visibleOptions).eq(defaults.index).focus();\r\n            break;\r\n          // Up\r\n          case 38:\r\n            event.preventDefault();\r\n            if ($dropdown.find(visibleOptions).eq(defaults.index - 1).length !== 0 && defaults.index - 1 >= 0) {\r\n              defaults.index -= 1;\r\n            } else {\r\n              defaults.index = $dropdown.find(visibleOptions).length - 1;\r\n            }\r\n            $dropdown.find(visibleOptions).eq(defaults.index).focus();\r\n            break;\r\n          // Enter\r\n          case 13:\r\n          // Space\r\n          case 32:\r\n            if (!$input || !$input.is(':focus')) {\r\n              event.preventDefault();\r\n              $(dropdownOptions + ':focus').trigger('click');\r\n              $select.trigger('change');\r\n              $customSelectValue.focus();\r\n            }\r\n            break;\r\n          // Esc\r\n          case 27:\r\n            event.preventDefault();\r\n            hideDropdown();\r\n            $customSelectValue.focus();\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  $.fn['customSelect'] = CustomSelect;\r\n\r\n})($);\r\n\r\nexport default CustomSelect;\r\n"]}