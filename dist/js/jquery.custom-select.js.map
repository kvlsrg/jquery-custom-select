{"version":3,"sources":["../../jquery.custom-select.js"],"names":["CustomSelect","$","defaults","block","hideCallback","includeValue","keyboard","modifier","placeholder","search","showCallback","transition","autocomplete","select","options","_$select","_options","_keydown","bind","_dropup","_outside","console","warn","_init","_$element","hide","after","_activeModifier","_dropupModifier","_$value","find","_$dropdown","addClass","html","_values","_$selectOptions","each","i","option","el","text","trim","push","length","prop","cssClass","eq","attr","$option","data","append","one","event","_show","_$options","on","_select","_search","preventDefault","window","slideDown","_$input","focus","call","outsideClickEvent","document","documentElement","setTimeout","_hide","index","slideUp","removeClass","off","blur","show","val","_$wrap","scrollTop","choice","currentTarget","values","slice","splice","remove","$this","originalEvent","trigger","prepend","wrapAll","query","toLowerCase","match","indexOf","toggle","bottom","getBoundingClientRect","up","height","toggleClass","$target","target","parents","is","visibleOptions","filter","keyCode","next","prev","_jQueryPlugin","extend","fn","noConflict"],"mappings":"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","file":"jquery.custom-select.js","sourcesContent":["import $ from 'jquery';\r\n\r\n/*!\r\n * Custom Select jQuery Plugin\r\n */\r\n\r\nconst CustomSelect = (($) => {\r\n\r\n  const defaults = {\r\n    block: 'custom-select',\r\n    hideCallback: false,\r\n    includeValue: false,\r\n    keyboard: true,\r\n    modifier: false,\r\n    placeholder: false,\r\n    search: false,\r\n    showCallback: false,\r\n    transition: 100,\r\n\r\n    // Deprecated options\r\n    // TODO: Remove in v1.3.1\r\n    autocomplete: false\r\n  };\r\n\r\n  class CustomSelect {\r\n\r\n    /**\r\n     * Custom Select\r\n     *\r\n     * @param {Object} select - `<select>` DOM element\r\n     * @param {Object} [options] - Settings object\r\n     * @param {string} [options.block=custom-select] - Class name (BEM block name)\r\n     * @param {Function} [options.hideCallback=false] - Fires after dropdown closes\r\n     * @param {boolean} [options.includeValue=false] - Shows chosen value option in\r\n     * dropdown, if enabled also cancels dropdown options rerender\r\n     * @param {boolean} [options.keyboard=true] - Enables keyboard control\r\n     * @param {string} [options.modifier=false] - Additional class, e.g. BEM modifier\r\n     * @param {string} [options.placeholder=false] - Custom select placeholder hint,\r\n     * can be an HTML string (appears if there is no explicitly selected options)\r\n     * @param {boolean} [options.search=false] - Adds input to search options\r\n     * @param {Function} [options.showCallback=false] - Fires after dropdown opens\r\n     * @param {number || string} [options.transition=100] - jQuery slideUp/Down speed\r\n     */\r\n    constructor(select, options) {\r\n      this._$select = $(select);\r\n      this._options = options;\r\n\r\n      // Event handlers that can be removed\r\n      this._keydown = this._keydown.bind(this);\r\n      this._dropup = this._dropup.bind(this);\r\n      this._outside = this._outside.bind(this);\r\n\r\n      // TODO: Remove in v1.3.1\r\n      if (this._options.autocomplete) {\r\n        this._options.search = true;\r\n        console.warn('Option `autocomplete` is deprecated since v1.3.0! Please, use `search` instead.');\r\n      }\r\n\r\n      this._init();\r\n    }\r\n\r\n    _init() {\r\n      this._$element = $(\r\n        `<div class=\"${this._options.block}\">\r\n           <button class=\"${this._options.block}__option ${this._options.block}__option--value\"></button>\r\n           <div class=\"${this._options.block}__dropdown\"></div>\r\n         </div>`\r\n      );\r\n\r\n      this._$select\r\n        .hide()\r\n        .after(this._$element);\r\n\r\n      // Modifiers\r\n      this._activeModifier = `${this._options.block}--active`;\r\n      this._dropupModifier = `${this._options.block}--dropup`;\r\n\r\n      this._$value = this._$element.find(`.${this._options.block}__option--value`);\r\n      this._$dropdown = this._$element.find(`.${this._options.block}__dropdown`);\r\n\r\n      if (this._options.modifier) {\r\n        this._$element.addClass(this._options.modifier);\r\n      }\r\n\r\n      this._$dropdown.html('').hide();\r\n\r\n      // Create values array\r\n      this._values = [];\r\n      this._$selectOptions = this._$select.find('option');\r\n\r\n      $.each(this._$selectOptions, (i, option) => {\r\n        let el = $(option).text().trim();\r\n        this._values.push(el);\r\n      });\r\n\r\n      if (this._options.placeholder) {\r\n        // Disable placeholder if there is explicitly selected option\r\n        if (this._$select.find('[selected]').length) {\r\n          this._options.placeholder = false;\r\n        } else {\r\n          this._$value.html(this._options.placeholder);\r\n          // Set select value to null\r\n          this._$select.prop('selectedIndex', -1);\r\n        }\r\n      }\r\n\r\n      // Render custom select options\r\n      $.each(this._values, (i, el) => {\r\n        let cssClass = this._$selectOptions.eq(i).attr('class');\r\n        let $option = $(`<button class=\"${this._options.block}__option\">${el}</button>`);\r\n\r\n        if (el === this._$select.find(':selected').text().trim()) {\r\n          this._$value\r\n            .text(el)\r\n            .addClass(cssClass).data('class', cssClass);\r\n\r\n          if (this._options.includeValue || this._options.placeholder) {\r\n            this._$dropdown.append($option);\r\n          }\r\n        } else {\r\n          $option.addClass(cssClass);\r\n          this._$dropdown.append($option);\r\n        }\r\n      });\r\n\r\n      this._$value.one('click', (event) => {\r\n        this._show(event);\r\n      });\r\n      this._$options = this._$dropdown.find(`.${this._options.block}__option`);\r\n      this._$options.on('click', (event) => {\r\n        this._select(event);\r\n      });\r\n\r\n      if (this._options.search) {\r\n        this._search();\r\n      }\r\n    }\r\n\r\n    _show(event) {\r\n      event.preventDefault();\r\n\r\n      // Set dropdown position modifier\r\n      this._dropup();\r\n      $(window).on('resize scroll', this._dropup);\r\n\r\n      this._$element.addClass(this._activeModifier);\r\n\r\n      this._$dropdown.slideDown(this._options.transition, () => {\r\n        if (this._options.search) {\r\n          this._$input.focus();\r\n        }\r\n\r\n        // Open callback\r\n        if (typeof this._options.showCallback === 'function') {\r\n          this._options.showCallback.call(this._$element[0]);\r\n        }\r\n      });\r\n\r\n      let outsideClickEvent = 'ontouchstart' in document.documentElement ? 'touchstart' : 'click';\r\n      setTimeout(() => {\r\n        $(window).on(outsideClickEvent, this._outside);\r\n      }, 0);\r\n\r\n      this._$value.one('click', (event) => {\r\n        event.preventDefault();\r\n\r\n        this._hide();\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._options.index = -1;\r\n        $(window).on('keydown', this._keydown);\r\n      }\r\n    }\r\n\r\n    _hide() {\r\n      this._$dropdown.slideUp(this._options.transition, () => {\r\n        this._$element\r\n          .removeClass(this._activeModifier)\r\n          .removeClass(this._dropupModifier);\r\n\r\n        // Close callback\r\n        if (typeof this._options.hideCallback === 'function') {\r\n          this._options.hideCallback.call(this._$element[0]);\r\n        }\r\n\r\n        $(window)\r\n          .off('touchstart click', this._outside)\r\n          .off('resize scroll', this._dropup);\r\n        this._$value\r\n          .off('click')\r\n          .one('click', (event) => {\r\n            this._show(event);\r\n          });\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._$options.blur();\r\n        $(window).off('keydown', this._keydown);\r\n      }\r\n\r\n      // Clear search\r\n      if (this._options.search) {\r\n        this._$options.show();\r\n        this._$input\r\n          .val('')\r\n          .blur();\r\n        this._$wrap.scrollTop(0);\r\n      }\r\n    }\r\n\r\n    _select(event) {\r\n      event.preventDefault();\r\n\r\n      const choice = $(event.currentTarget).text().trim();\r\n      const values = this._values.slice();\r\n\r\n      this._$value\r\n        .text(choice)\r\n        .removeClass(this._$value.data('class'));\r\n      this._$selectOptions.prop('selected', false);\r\n\r\n      $.each(values, (i, el) => {\r\n        if (!this._options.includeValue && el === choice) {\r\n          values.splice(i, 1);\r\n        }\r\n\r\n        $.each(this._$selectOptions, (i, option) => {\r\n          let $option = $(option);\r\n          if ($option.text().trim() === choice) {\r\n            let cssClass = $option.attr('class');\r\n\r\n            $option.prop('selected', true);\r\n            this._$value.addClass(cssClass).data('class', cssClass);\r\n          }\r\n        });\r\n      });\r\n\r\n      this._hide();\r\n\r\n      // Update dropdown options content\r\n      if (!this._options.includeValue) {\r\n        if (this._$options.length > values.length) {\r\n          this._$options.eq(values.length).remove();\r\n        }\r\n\r\n        $.each(this._$options, (i, option) => {\r\n          let $option = $(option);\r\n          $option.text(values[i]);\r\n\r\n          // Reset option class\r\n          $option.attr('class', `${this._options.block}__option`);\r\n\r\n          $.each(this._$selectOptions, function() {\r\n            let $this = $(this);\r\n            if ($this.text().trim() === values[i]) {\r\n              $option.addClass($this.attr('class'));\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n      if (typeof event.originalEvent !== 'undefined') {\r\n        this._$select.trigger('change');\r\n      }\r\n    }\r\n\r\n    _search() {\r\n      // Add search input\r\n      this._$input = $(`<input class=\"${this._options.block}__input\" autocomplete=\"off\">`);\r\n      this._$dropdown.prepend(this._$input);\r\n\r\n      // Add scrollable wrap\r\n      this._$options.wrapAll(`<div class=\"${this._options.block}__option-wrap\"></div>`);\r\n      this._$wrap = this._$element.find(`.${this._options.block}__option-wrap`);\r\n\r\n      this._$input.on('focus', () => {\r\n        this._options.index = -1;\r\n        this._$wrap.scrollTop(0);\r\n      });\r\n\r\n      this._$input.on('keyup', () => {\r\n        let query = this._$input.val().trim();\r\n        if (query.length) {\r\n          setTimeout(() => {\r\n            if (query === this._$input.val().trim()) {\r\n              $.each(this._$options, (i, option) => {\r\n                let $option = $(option);\r\n                let text = $option.text().trim().toLowerCase();\r\n                let match = text.indexOf(query.toLowerCase()) !== -1;\r\n\r\n                $option.toggle(match);\r\n              });\r\n            }\r\n          }, 300);\r\n        } else {\r\n          this._$options.show();\r\n        }\r\n      });\r\n    }\r\n\r\n    _dropup() {\r\n      let bottom = this._$element[0].getBoundingClientRect().bottom;\r\n      let up = $(window).height() - bottom < this._$dropdown.height();\r\n\r\n      this._$element.toggleClass(this._dropupModifier, up);\r\n    }\r\n\r\n    _outside(event) {\r\n      let $target = $(event.target);\r\n      if (!$target.parents().is(this._$element) && !$target.is(this._$element)) {\r\n        this._hide();\r\n      }\r\n    }\r\n\r\n    _keydown(event) {\r\n      let visibleOptions = this._$options.filter(':visible');\r\n\r\n      switch (event.keyCode) {\r\n        // Down\r\n        case 40:\r\n          event.preventDefault();\r\n\r\n          let next = this._$dropdown.find(visibleOptions).eq(this._options.index + 1).length;\r\n          if (next !== 0) {\r\n            this._options.index += 1;\r\n          } else {\r\n            this._options.index = 0;\r\n          }\r\n\r\n          this._$dropdown.find(visibleOptions).eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Up\r\n        case 38:\r\n          event.preventDefault();\r\n\r\n          let prev = this._$dropdown.find(visibleOptions).eq(this._options.index - 1).length;\r\n          if (prev !== 0 && this._options.index - 1 >= 0) {\r\n            this._options.index -= 1;\r\n          } else {\r\n            this._options.index = this._$dropdown.find(visibleOptions).length - 1;\r\n          }\r\n\r\n          this._$dropdown.find(visibleOptions).eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Enter\r\n        case 13:\r\n\r\n        // Space\r\n        case 32:\r\n          if (!this._$input || !this._$input.is(':focus')) {\r\n            event.preventDefault();\r\n\r\n            let $option = $(`.${this._options.block}__option:focus`);\r\n            $option.trigger('click');\r\n\r\n            if (!$option.is(this._$value)) {\r\n              this._$select.trigger('change');\r\n            }\r\n            this._$value.focus();\r\n          }\r\n          break;\r\n\r\n        // Esc\r\n        case 27:\r\n          event.preventDefault();\r\n\r\n          this._hide();\r\n          this._$value.focus();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    static _jQueryPlugin(options) {\r\n      return this.each(function () {\r\n        let _options = $.extend({}, defaults);\r\n        let $this = $(this);\r\n        let data = $this.data('custom-select');\r\n\r\n        if (typeof options === 'object') {\r\n          $.extend(_options, options);\r\n        }\r\n\r\n        if (!data) {\r\n          data = new CustomSelect(this, _options);\r\n          $(this).data('custom-select', data);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  $.fn['customSelect'] = CustomSelect._jQueryPlugin;\r\n  $.fn['customSelect'].noConflict = () => $.fn['customSelect'];\r\n\r\n})($);\r\n\r\nexport default CustomSelect;\r\n"]}