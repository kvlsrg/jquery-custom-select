{"version":3,"sources":["../../jquery.custom-select.js"],"names":["CustomSelect","$","defaults","block","hideCallback","includeValue","keyboard","modifier","placeholder","search","showCallback","transition","select","options","_$select","_options","_activeModifier","_dropupModifier","_optionSelectedModifier","_keydown","bind","_dropup","_outside","_init","reset","_$dropdown","hide","empty","_$value","off","_fill","_$element","after","addClass","find","_$values","_values","each","i","option","el","text","trim","push","length","html","prop","cssClass","eq","attr","$option","$selected","removeClass","data","removeData","toggleClass","is","append","_$options","_search","one","event","_show","on","_select","preventDefault","window","slideDown","_$input","focus","_scroll","call","setTimeout","document","_hide","index","val","blur","show","_$wrap","scrollTop","slideUp","top","position","height","outerHeight","center","choice","currentTarget","values","splice","last","remove","not","$this","originalEvent","trigger","prepend","wrapAll","query","toLowerCase","match","indexOf","toggle","bottom","getBoundingClientRect","up","$target","target","parents","$visible","filter","which","next","prev","add","_jQueryPlugin","config","fn","noConflict"],"mappings":"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","sourcesContent":["import $ from 'jquery';\r\n\r\n/*!\r\n * Custom Select jQuery Plugin\r\n */\r\n\r\nconst CustomSelect = (($) => {\r\n\r\n  const defaults = {\r\n    block: 'custom-select',\r\n    hideCallback: false,\r\n    includeValue: false,\r\n    keyboard: true,\r\n    modifier: false,\r\n    placeholder: false,\r\n    search: false,\r\n    showCallback: false,\r\n    transition: 0\r\n  };\r\n\r\n  class CustomSelect {\r\n\r\n    /**\r\n     * Custom Select\r\n     *\r\n     * @param {Element} select Original `<select>` DOM element to customize.\r\n     * @param {(Object|string)=} options Settings object or method name.\r\n     * @param {string=} options.block Custom select BEM block name.\r\n     * @param {Function=} options.hideCallback Fires after dropdown closes.\r\n     * @param {boolean=} options.includeValue Adds chosen value option to\r\n     *     dropdown. If enabled also cancels dropdown options rerender.\r\n     * @param {boolean=} options.keyboard Enables keyboard control.\r\n     * @param {string=} options.modifier Custom select block BEM modifier.\r\n     * @param {string=} options.placeholder Placeholder hint, can be an HTML\r\n     *     string (appears only if there is no explicitly selected options).\r\n     * @param {boolean=} options.search Adds input to filter options.\r\n     * @param {Function=} options.showCallback Fires after dropdown opens.\r\n     * @param {(number|string)=} options.transition jQuery slideUp/Down param.\r\n     */\r\n    constructor(select, options) {\r\n      this._$select = $(select);\r\n      this._options = {\r\n        ...defaults,\r\n        ...typeof options === 'object' ? options : {}\r\n      };\r\n\r\n      // Modifiers\r\n      this._activeModifier = `${this._options.block}--active`;\r\n      this._dropupModifier = `${this._options.block}--dropup`;\r\n      this._optionSelectedModifier = `${this._options.block}__option--selected`;\r\n\r\n      // Event handlers that can be removed\r\n      this._keydown = this._keydown.bind(this);\r\n      this._dropup = this._dropup.bind(this);\r\n      this._outside = this._outside.bind(this);\r\n\r\n      this._init();\r\n    }\r\n\r\n    /**\r\n     * Resets custom select options.\r\n     *\r\n     * @public\r\n     */\r\n    reset() {\r\n      this._$dropdown.hide().empty();\r\n      this._$value.off('click');\r\n\r\n      this._fill();\r\n    }\r\n\r\n    /**\r\n     * Renders initial state of custom select & sets\r\n     * options click event listeners.\r\n     *\r\n     * @private\r\n     */\r\n    _init() {\r\n      this._$element = $(\r\n        `<div class=\"${this._options.block}\">\r\n           <button class=\"${this._options.block}__option ${this._options.block}__option--value\" type=\"button\"></button>\r\n           <div class=\"${this._options.block}__dropdown\" style=\"display: none;\"></div>\r\n         </div>`\r\n      );\r\n\r\n      this._$select\r\n        .hide()\r\n        .after(this._$element);\r\n\r\n      if (this._options.modifier) {\r\n        this._$element.addClass(this._options.modifier);\r\n      }\r\n\r\n      this._$value = this._$element.find(`.${this._options.block}__option--value`);\r\n      this._$dropdown = this._$element.find(`.${this._options.block}__dropdown`);\r\n\r\n      this._fill();\r\n    }\r\n\r\n    /**\r\n     * Renders custom select options by original\r\n     * select element options.\r\n     *\r\n     * @private\r\n     */\r\n    _fill() {\r\n      this._$values = this._$select.find('option');\r\n      this._values = [];\r\n\r\n      let placeholder = this._options.placeholder;\r\n\r\n      $.each(this._$values, (i, option) => {\r\n        const el = $(option).text().trim();\r\n        this._values.push(el);\r\n      });\r\n\r\n      if (placeholder) {\r\n        // Check explicitly selected option\r\n        if (this._$select.find('[selected]').length) {\r\n          placeholder = false;\r\n        } else {\r\n          this._$value.html(placeholder);\r\n          // Set select value to null\r\n          this._$select.prop('selectedIndex', -1);\r\n        }\r\n      }\r\n\r\n      $.each(this._values, (i, el) => {\r\n        const cssClass = this._$values.eq(i).attr('class');\r\n        const $option = $(\r\n          `<button class=\"${this._options.block}__option\" type=\"button\">${el}</button>`\r\n        );\r\n        const $selected = this._$select.find(':selected');\r\n\r\n        if (this._$values.eq(i).attr('disabled')) {\r\n          $option.prop('disabled', true);\r\n        }\r\n\r\n        if ((!$selected.length && i === 0) || el === $selected.text().trim()) {\r\n          if (!placeholder) {\r\n            this._$value\r\n              .text(el)\r\n              .removeClass(this._$value.data('class')).removeData('class')\r\n              .addClass(cssClass).data('class', cssClass);\r\n          }\r\n\r\n          if (this._options.includeValue || placeholder) {\r\n            $option.addClass(cssClass);\r\n            $option.toggleClass(this._optionSelectedModifier, this._$values.eq(i).is('[selected]'));\r\n            this._$dropdown.append($option);\r\n          }\r\n        } else {\r\n          $option.addClass(cssClass);\r\n          this._$dropdown.append($option);\r\n        }\r\n      });\r\n\r\n      this._$options = this._$dropdown.find(`.${this._options.block}__option`);\r\n\r\n      if (this._options.search) {\r\n        this._search();\r\n      }\r\n\r\n      this._$value.one('click', event => {\r\n        this._show(event);\r\n      });\r\n\r\n      this._$value.prop('disabled', !this._$options.length);\r\n\r\n      this._$options.on('click', event => {\r\n        this._select(event);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Shows custom select dropdown & sets outside\r\n     * click listener to hide.\r\n     *\r\n     * @param {Object} event Value click jQuery event.\r\n     * @private\r\n     */\r\n    _show(event) {\r\n      event.preventDefault();\r\n\r\n      this._dropup();\r\n      $(window).on('resize scroll', this._dropup);\r\n\r\n      this._$element.addClass(this._activeModifier);\r\n\r\n      this._$dropdown.slideDown(this._options.transition, () => {\r\n        if (this._options.search) {\r\n          this._$input.focus();\r\n\r\n          if (this._options.includeValue) {\r\n            this._scroll();\r\n          }\r\n        }\r\n\r\n        // Open callback\r\n        if (typeof this._options.showCallback === 'function') {\r\n          this._options.showCallback.call(this._$element[0]);\r\n        }\r\n      });\r\n\r\n      setTimeout(() => {\r\n        $(document).on('touchstart click', this._outside);\r\n      }, 0);\r\n\r\n      this._$value.one('click', event => {\r\n        event.preventDefault();\r\n\r\n        this._hide();\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._options.index = -1;\r\n        $(window).on('keydown', this._keydown);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Hides custom select dropdown & resets events\r\n     * listeners to initial.\r\n     *\r\n     * @private\r\n     */\r\n    _hide() {\r\n      if (this._options.search) {\r\n        this._$input.val('').blur();\r\n        this._$options.show();\r\n        this._$wrap.scrollTop(0);\r\n      }\r\n\r\n      this._$dropdown.slideUp(this._options.transition, () => {\r\n        this._$element\r\n          .removeClass(this._activeModifier)\r\n          .removeClass(this._dropupModifier);\r\n\r\n        // Close callback\r\n        if (typeof this._options.hideCallback === 'function') {\r\n          this._options.hideCallback.call(this._$element[0]);\r\n        }\r\n\r\n        this._$value\r\n          .off('click')\r\n          .one('click', event => {\r\n            this._show(event);\r\n          });\r\n        $(document).off('touchstart click', this._outside);\r\n        $(window).off('resize scroll', this._dropup);\r\n      });\r\n\r\n      if (this._options.keyboard) {\r\n        this._$options.blur();\r\n        $(window).off('keydown', this._keydown);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Centers chosen option in scrollable element\r\n     * of dropdown.\r\n     *\r\n     * @private\r\n     */\r\n    _scroll() {\r\n      $.each(this._$options, (i, option) => {\r\n        const $option = $(option);\r\n\r\n        if ($option.text() === this._$value.text()) {\r\n          const top = $option.position().top;\r\n          const height = this._$wrap.outerHeight();\r\n          const center = height / 2 - $option.outerHeight() / 2;\r\n\r\n          if (top > center) {\r\n            this._$wrap.scrollTop(top - center);\r\n          }\r\n\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Changes value of custom select & `<select>`\r\n     * by chosen option.\r\n     *\r\n     * @param {Object} event Option click jQuery event.\r\n     * @private\r\n     */\r\n    _select(event) {\r\n      event.preventDefault();\r\n\r\n      const choice = $(event.currentTarget).text().trim();\r\n      const values = [...this._values];\r\n\r\n      this._$value\r\n        .text(choice)\r\n        .removeClass(this._$value.data('class'));\r\n      this._$values.prop('selected', false);\r\n\r\n      $.each(values, (i, el) => {\r\n        if (!this._options.includeValue && el === choice) {\r\n          values.splice(i, 1);\r\n        }\r\n\r\n        $.each(this._$values, (i, option) => {\r\n          const $option = $(option);\r\n          if ($option.text().trim() === choice) {\r\n            const cssClass = $option.attr('class');\r\n\r\n            $option.prop('selected', true);\r\n            this._$value.addClass(cssClass).data('class', cssClass);\r\n          }\r\n        });\r\n      });\r\n\r\n      this._hide();\r\n\r\n      if (!this._options.includeValue) {\r\n        // Update dropdown options content\r\n        if (this._$options.length > values.length) {\r\n          const last = this._$options.eq(values.length);\r\n\r\n          last.remove();\r\n          this._$options = this._$options.not(last);\r\n\r\n          if (!this._$options.length) {\r\n            this._$value.prop('disabled', true);\r\n          }\r\n        }\r\n\r\n        $.each(this._$options, (i, option) => {\r\n          const $option = $(option);\r\n          $option.text(values[i]);\r\n\r\n          // Reset option class\r\n          $option.attr('class', `${this._options.block}__option`);\r\n\r\n          $.each(this._$values, function () {\r\n            const $this = $(this);\r\n            if ($this.text().trim() === values[i]) {\r\n              $option.addClass($this.attr('class'));\r\n              $option.prop('disabled', $this.prop('disabled'));\r\n            }\r\n          });\r\n        });\r\n      } else {\r\n        // Select chosen option\r\n        this._$options.removeClass(this._optionSelectedModifier);\r\n\r\n        $.each(this._$options, (i, option) => {\r\n          const $option = $(option);\r\n\r\n          if ($option.text().trim() === choice) {\r\n            $option.addClass(this._optionSelectedModifier);\r\n\r\n            return false;\r\n          }\r\n        });\r\n      }\r\n\r\n      if (typeof event.originalEvent !== 'undefined') {\r\n        this._$select.trigger('change');\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Wraps options by wrap element, adds search\r\n     * input to dropdown.\r\n     *\r\n     * @private\r\n     */\r\n    _search() {\r\n      this._$input = $(`<input class=\"${this._options.block}__input\" autocomplete=\"off\">`);\r\n      this._$dropdown.prepend(this._$input);\r\n\r\n      // Add scrollable wrap\r\n      this._$options.wrapAll(`<div class=\"${this._options.block}__option-wrap\"></div>`);\r\n      this._$wrap = this._$element.find(`.${this._options.block}__option-wrap`);\r\n\r\n      this._$input.on('focus', () => {\r\n        this._options.index = -1;\r\n      });\r\n\r\n      this._$input.on('keyup', () => {\r\n        const query = this._$input.val().trim();\r\n\r\n        if (query.length) {\r\n          this._$wrap.scrollTop(0);\r\n\r\n          setTimeout(() => {\r\n            if (query === this._$input.val().trim()) {\r\n              $.each(this._$options, (i, option) => {\r\n                const $option = $(option);\r\n                const text = $option.text().trim().toLowerCase();\r\n                const match = text.indexOf(query.toLowerCase()) !== -1;\r\n\r\n                $option.toggle(match);\r\n              });\r\n            }\r\n          }, 300);\r\n        } else {\r\n          this._$options.show();\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Toggles custom select dropup modifier based\r\n     * on space for dropdown below.\r\n     *\r\n     * @private\r\n     */\r\n    _dropup() {\r\n      const bottom = this._$element[0].getBoundingClientRect().bottom;\r\n      const up = $(window).height() - bottom < this._$dropdown.height();\r\n\r\n      this._$element.toggleClass(this._dropupModifier, up);\r\n    }\r\n\r\n    /**\r\n     * Hides dropdown if target of event (e.g. click\r\n     * on `$window`) is not custom select.\r\n     *\r\n     * @param {Object} event Outside \"click\" jQuery event.\r\n     * @private\r\n     */\r\n    _outside(event) {\r\n      const $target = $(event.target);\r\n      if (!$target.parents().is(this._$element) && !$target.is(this._$element)) {\r\n        this._hide();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Controls navigation from keyboard by custom\r\n     * select options.\r\n     *\r\n     * @param {Object} event Keydown jQuery event.\r\n     * @private\r\n     */\r\n    _keydown(event) {\r\n      const $visible = this._$options.filter(':visible').not('[disabled]');\r\n\r\n      switch (event.which) {\r\n        // Down\r\n        case 40:\r\n          event.preventDefault();\r\n\r\n          const next = $visible.eq(this._options.index + 1).length;\r\n          if (next) {\r\n            this._options.index += 1;\r\n          } else {\r\n            this._options.index = 0;\r\n          }\r\n\r\n          $visible.eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Up\r\n        case 38:\r\n          event.preventDefault();\r\n\r\n          const prev = $visible.eq(this._options.index - 1).length;\r\n          if (prev && this._options.index - 1 >= 0) {\r\n            this._options.index -= 1;\r\n          } else {\r\n            this._options.index = $visible.length - 1;\r\n          }\r\n\r\n          $visible.eq(this._options.index).focus();\r\n          break;\r\n\r\n        // Enter\r\n        case 13:\r\n\r\n        // Space\r\n        case 32:\r\n          if (!this._$input || !this._$input.is(':focus')) {\r\n            event.preventDefault();\r\n\r\n            const $option = this._$options.add(this._$value).filter(':focus');\r\n            $option.trigger('click');\r\n\r\n            if (!$option.is(this._$value)) {\r\n              this._$select.trigger('change');\r\n            }\r\n            this._$value.focus();\r\n          }\r\n          break;\r\n\r\n        // Esc\r\n        case 27:\r\n          event.preventDefault();\r\n\r\n          this._hide();\r\n          this._$value.focus();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Creates jQuery plugin function.\r\n     *\r\n     * @param {(Object|string)=} config Options or method.\r\n     * @returns {Function} jQuery plugin.\r\n     */\r\n    static _jQueryPlugin(config) {\r\n      return this.each(function () {\r\n        const $this = $(this);\r\n        let data = $this.data('custom-select');\r\n\r\n        if (!data) {\r\n          if (typeof config !== 'string') {\r\n            data = new CustomSelect(this, config);\r\n            $this.data('custom-select', data);\r\n          }\r\n        } else {\r\n          if (config === 'reset') {\r\n            data.reset();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  $.fn['customSelect'] = CustomSelect._jQueryPlugin;\r\n  $.fn['customSelect'].noConflict = () => $.fn['customSelect'];\r\n\r\n  return CustomSelect;\r\n\r\n})($);\r\n\r\nexport default CustomSelect;\r\n"],"file":"jquery.custom-select.js"}